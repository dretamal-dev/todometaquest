---
const { align = "center" } = Astro.props;
const randomId = 'image3D-' + Math.random().toString(36).substring(2, 15);
---
 <figure id={randomId} class="perspective-distant w-[fit-content] relative">
    <slot/>
</figure>

<script is:inline define:vars={{ randomId , align}}>
  const style = document.createElement('style');

  let transformValue = "rotateX(2deg) rotateY(0deg) rotateZ(0deg)";
  if (align === "right") {
    transformValue = "rotateX(2deg) rotateY(-5deg) rotateZ(-2deg)";
  }else if (align === "left") {
    transformValue = "rotateX(2deg) rotateY(5deg) rotateZ(2deg)";
  }

  style.textContent = `
  #${randomId} > * {
    transform: ${transformValue};
    transition: .3s;
    border-radius: 0.375em;
    box-shadow: 2px 10px 30px hsla(0, 0%, 0%, 0.25);
  }
  #${randomId}:hover > * {
    transform: rotate(0);
  }
  `;
  document.head.appendChild(style);
</script>